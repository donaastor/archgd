------------ CHEAT SHEET ------------
1. SSD trim:
	da bi rekao SSD-u koje strane se ne koriste,
	(sto ostaje da visi nakon sto se neki fajl obrise)
	pokreni ovu komandu:
		sudo fstrim -v /
	(vidi man fstrim za vise opcija...)
	pokreni ovo ako si obrisao puno memorije sa diska,
	ili jednostavno posle dosta vremena...
	mozes i enablovati timer koji to obavlja nedeljno:
		sudo systemd enable fstrim.timer
2. HiDPI:
	bitno je da namestis Xft.dpi za X, da bi sistem znao
	DPI monitora, a za aplikacije namestaj rucno jer svaka
	koristi svoje nesto: uglavnom su to flagovi GDK_SCALE,
	GDK_DPI_SCALE, QT_SCALE_FACTOR, QT_QT_SCREEN_SCALE_FACTORS
	koje iz terminala mozes bukvalno da pozoves sa
	"GDK_SCALE=2 geany" npr, a kada nesto odlucis da hoces
	definitivno da koristis, onda mozes da ga exportujes u
	.xinitrc: "export GDK_SCALE=2" ili da namestis alias
	u /etc/bash.bashrc ili ~/.xinitrc:
	"alias geany='GDK_SCALE=2 geany'"
	alternativno, idi na  wiki.archlinux.org/title/HiDPI
3. Baterija
	pacman -S acpi
	path = /sys/class/power_supply/BAT1/...
	fajl moze biti npr uevent ili capacity
	za i3status (tu mora uevent):
		battery 1 {
			format = "%percentage"
			low_threshold = 15
			threshold_type = "percentage"
			path = "/sys/class/power_supply/BAT1/uevent"
			format_percentage: "%.01f%s"
		}
--------------- SETUP ---------------
sudo pacman -S xf86-video-amdgpu
pikaur -S corectrl
sudo pacman -S vulkan-tools mesa-utils
cp /usr/share/applications/org.corectrl.corectrl.desktop ~/.config/autostart/org.corectrl.corectrl.desktop
sudo nano /etc/polkit-1/rules.d/90-corectrl.rules:
	polkit.addRule(function(action, subject) {
		if (	(action.id == "org.corectrl.helper.init" ||
			action.id == "org.corectrl.helperkiller.init") &&
			subject.local == true &&
			subject.active == true &&
			subject.isInGroup("wheel")
		) {
			return polkit.Result.YES;
		}
	});
sudo nano /etc/default/grub:
	(dodaj parametar na liniju)
	GRUB_CMDLINE_LINUX_DEFAULT="<other_params>... amdgpu.ppfeaturemask=0xffffffff"
grub-mkconfig -o /boot/grub/grub/cfg
	#	nano ~/.config/awesome/rc.lua:
	# 		(dodaj u Autostarts)
	#		awful.spawn.with_shell("corectrl")
nnao ~/.xinitrc: (dodaj posle linije "picom &")
	corectrl &
pacman -S linux-headers dkms
pikaur -S zenpower3-dkms zenmonitor3-git
modprobe zenpower
sensors-detect
	(samo cepaj enter)
Corectrl:
	GPU: ON
	CPU: OFF
	GPU Ventilation: Curve:	40C-40%
							60C-75%
							70C-100%
	Apply, Save
	System/Settings: Start minimized
sudo cat /sys/power/mem_sleep
(ako se isprintalo "[s2idle] deep" umesto "s2idle [deep]", onda:)
	nano /etc/default/grub:
		(dodaj parametar na liniju)
		GRUB_CMDLINE_LINUX_DEFAULT="<other_params>... mem_sleep_default"
	sudo grub-mkconfig -o /boot/grub/grub.cfg
(reboot)
ako samo ti koristis komp:
	sudo nano /etc/default/grub:
		(dodaj parametar na liniju)
		GRUB_CMDLINE_LINUX_DEFAULT="<other_params>... mitigations=off"
	sudo grub-mkconfig -o /boot/grub/grub.cfg
	...
	..polkit stvari
	...
sudo nano /usr/local/bin/numlock:
	#!/bin/bash

	for tty in /dev/tty{1..6}
	do
	  /usr/bin/setleds -D +num < "$tty";
	done
sudo chmod 755 /usr/local/bin/numlock
sudo nano /etc/systemd/system/numlock.service:
	[Unit]
	Description=numlock

	[Service]
	ExecStart=/usr/local/bin/numlock
	StandardInput=tty
	RemainAfterExit=yes

	[Install]
	WantedBy=multi-user.target
sudo systemctl enable numlock
cd /usr/share/icons/default
sudo mkdir cursors
cd cursors
sudo ln -s /usr/share/icons/Adwaita/cursors/left_ptr watch
localectl --no-convert set-x11-keymap us,ru,rs,rs pc105 ,,latin,yz
pikaur -S xkb-switch xkblayout-state-git
mkdir /tmp/i3git
cd /tmp/i3git
git clone --depth=1 https://github.com/donaastor/i3-config.git
cd i3-config
rm -r .git
mv .xbindkeysrc ~/
cd ..
mv i3-config ~/.config/i3
cd ~/.config/i3
chmod 755 status_script.sh
sudo pacman -S man-db man-pages
sudo mandb
sudo pacman -S libva-mesa-driver libva-utils
vainfo
mkdir /home/korsic/tren
sudo nano /etc/fstab: (dodaj na kraj)
	tmpfs /home/korsic/tren tmpfs defaults,size=2048M 0 0
sudo mount -t tmpfs tmpfs -o defaults,size=2048M /home/korsic/tren
pacman -S ttf-liberation
sudo nano /etc/fonts/local.conf:
	<?xml version="1.0"?>
	<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
	<fontconfig>
		<match target="pattern">
		<test name="family" qual="any">
			<string>monospace</string>
		</test>
		<edit binding="strong" mode="prepend" name="family">
			<string>LiberationMono</string>
		</edit>
		</match>
	</fontconfig>
sudo pacman -S feh zathura zathura-djvu zathura-pdf-poppler xdg-utils
xdg-mime default feh.desktop image/png image/jpeg
xdg-mime default org.pwmt.zathura.desktop application/pdf application/djvu
	sudo pacman -S calc alacritty pcmanfm nnn htop
reboot







------------   PROGRAMS   ------------

******  Chromium  ******************************************************************************
curl -s 'https://download.opensuse.org/repositories/home:/ungoogled_chromium/Arch/x86_64/home_ungoogled_chromium_Arch.key' | sudo pacman-key -a -
echo '
[home_ungoogled_chromium_Arch]
SigLevel = Required TrustAll
Server = https://download.opensuse.org/repositories/home:/ungoogled_chromium/Arch/$arch' | sudo tee --append /etc/pacman.conf
pacman -Sy
(uradi samo pacman -S pipewire-jack ungoogled-chromium, ili:)
pacman -S ungoogled-chromium
	[pipewire-jack]
pacman -Scc
mkdir /home/korsic/chromium
mkdir /home/korsic/chromium/cache
sudo nano /etc/fstab: (dodaj na kraj)
	tmpfs /home/korsic/chromium/cache tmpfs noatime,nodev,nosuid,size=1152M 0 0
(?) sudo mount -t tmpfs tmpfs -o noatime,nodev,nosuid,size=1152M /home/korsic/chromium/cache
nano /etc/chromium-flags.conf:
	--disk-cache-dir=/home/korsic/chromium/cache
	--disk-cache-size=1073741824
	--ignore-gpu-blocklist
	--enable-gpu-rasterization
	--enable-zero-copy
	--enable-features=VaapiVideoDecoder
	--use-gl=egl
	(mozda ce trebati)		--disable-gpu-driver-bug-workarounds
	(mozda ce trebati)		--disable-features=UseChromeOSDirectVideoDecoder
# da bi video da li treba ove flagove da probas, otvori u chromiumu URL "chrome://gpu" i procitaj je li pise "Hardware accelerated"
sudo pacman -S profile-sync-daemon
psd
nano ~/.config/psd/psd.conf:
	(odkomentiraj liniju "USE_BACKUPS="yes"", i promeni u:)
	"USE_BACKUPS"="no"
systemctl --user enable psd
systemctl --user start psd
chromium:
	settings:
		Autofill:
			Passwords:
				UKLJUCI Offer to save passwords
		Security and Privacy:
			Security:
				UKLJUCI Always use secure connections
				UKLJUCI Use secure DNS
			Site Settings:
				ISKLJUCI JavaScript
		Appearance:
			UKLJUCI Show home button
			ISKLJUCI Show bookmarks bar
		Search engine:
			POSTAVI "Search engine used in the address bar" na "DuckDuckGo"
		(advanced)
		Languages:
			UKLJUCI Offer to translate pages that aren't in a language you read
			ISKLJUCI Spell check
	promeni flag:
		chrome://flags/#extension-mime-request-handling
	na	"Download as regular file"
	otvori URL:
		https://chrome.google.com/webstore/category/extensions
	ukljuci JavaScript
	pretrazi "ublock origin"
		(ili samo idi na "https://chrome.google.com/webstore/search/ublock%20origin")
	udji na "uBlock Origin" i kopiraj URL
		(ili samo idi na desni klik i "Copy link address")
	iskljuci JavaScript
	otvori URL:
		https://crxextractor.com/
	ukljuci JavaScript
	klikni "START FOR FREE"
	pastuj kopirani URL u polje gde pise "URL from Chrome WebStore"
	stisni Download i cd-uj se u folder gde si skinuo fajl
		(recimo da se fajl zove extension.crx)
	iskljuci JavaScript
	mkdir /home/korsic/chromium/extensions
	mkdir /home/korsic/chromium/extensions/uBlock
	pacman -S unzip
	unzip extension.crx -d /home/korsic/chromium/extensions/uBlock
	rm -r /home/korsic/chromium/extensions/uBlock/_metadata
	idi na:
		chrome://extensions/
	ukljuci "Developer mode"
	klikni "Load unpacked" i odaberi /home/korsic/chromium/extensions/uBlock
	uBlock -> Details:
		iskljuci "Collect errors"
		udji u Extension options:
			ako imas neke zelje...
	...
	..bookmarks
	...
******  Samba  *********************************************************************************
terminal:
	pacman -S samba
	mkdir ~/Filmovi
	sudo smbpasswd -a korsic
	sudo ufw enable
	sudo ufw allow CIFS
thunar:
	dodaj u ~/.bashrc-personal:
		alias f='sudo mount -t tmpfs -o size=3072m tmpfs /home/korsic/Filmovi; sudo systemctl restart smb nmb'
		alias uf='sudo umount Filmovi'
	iskopiraj smb.conf u /etc/samba/
******  Thunar  ********************************************************************************
thunar(i root):
	Edit -> Preferences -> Display:
		View new folders using: Last Active View
		Date: Format: Custom: %a, %_d. %b, %Y, %H:%M:%S
	Edit -> Configure custom actions...:
		obrisi:
			Check sha1sum
			Check sha256sum
			Check md5sum
			Run
			Convert png to jpg
			Conkyzen
			Open with gitahead
		menjaj:
			Open Terminal Here:
				xfce4-terminal --default-working-directory=%f
			Create symlink:
				ln -s %f %n_link
			Open folder as root:
				gksu --disable-grab dbus-run-session thunar %f
			Ownership to root:
				gnome-keyring-daemon -r -d;gksu --disable-grab "chown -R root:root %F"
			Ownership to user:
				gnome-keyring-daemon -r -d;gksu --disable-grab "chown -R $USER:$USER %F"
	iskopiraj accels.scm u ~/.config/Thunar/
******  Geany  *********************************************************************************
geany(i root):
	Edit -> Preferences:
		in Keybindings:	Switch to Editor = <Alt>1
						Switch to VTE    = <Alt>2
						Toggle Messages Window = <Alt>a
		in Terminal: mark Follow path of the current file
		(optional) in General -> Miscellaneous: unmark Beep on errors
		(optional) in General -> Startup: unmark Load files from the last session
		(optional) in Editor -> Features: change Comment toggle marker to an empty string or a single space
		(optional) in Editor -> Features: mark Newline strips trailing spaces
		(optional) in Editor -> Display: unmark Long line marker > Enabled
		(optional) in Editor -> Display: unmark Stop scrolling at last line
		(optional) in Files: mark Strip trailing spaces and tabs
		in Tools, set:
			Terminal: alacritty -e /bin/sh %c
			Browser: chromium
	View:
		unmark Show Sidebar
		unmark Show Toolbar
	Open any .cpp file, go to Build -> Set Build Commands and set:
		[common]:		g++ "%f" -o "%e" -pipe -fwrapv -fno-plt -fno-semantic-interposition -std=c++20 -mcmodel=large -march=x86-64 -mtune=generic -Wshadow -Wno-unused-result -Wall -L /usr/lib -lm -lz -lcrypt -lutil -ldl -lpthread -lrt
		Compile:		-O3
		Build:			-g -fsanitize=address -fsanitize=undefined -D_GLIBCXX_DEBUG
		[python]:		-I /usr/include/python3.10 -lpython3.10
	Open any .java file, go to Build -> Set Build Commands and set:
		Compile (F8): javac "%f" -d .
	Tools -> Plugin Manager: select Auto-close; Preferences: unmark "Parenthesis" and "Double quotes"
	exit geany
	iskopiraj sve iz foldera "colorschemes" u ~/.config/geany/colorschemes/
******  Vivaldi  *******************************************************************************
vivaldi:
	classic,
	import nothing,
	block trackers,
	theme = vivaldi, DON'T use OS theme
	bookmarks: obrisi sve,
	Settings:
		Sync:
			username: donaastor
			password: ***************
	restart
	Settings:
		General:
			Set as Default
			Close and Exit: NE, NE
		Themes:
			Themes: Dark
			Background: AuroraDark
			Color: Opacity 100%, Enable Blur = OFF
			Scheduled Themes: 6:00, 20:00
		Start Page: Speed dial:
			max columns: 8
			thumbnail size: small
		Search: DuckDuckGo, search field display: disable
	levi Panel: translate.google.com, separate width
******  gimp  **********************************************************************************
gimp:
	Preferences -> Interface -> Icon Theme -> Custom icon size: large
iskopiraj folder Dark iz /usr/share/gimp/2.0/themes u ~/.config/GIMP/2.10/themes/ i preimenuj ga u DarkHighDPI
u DarkHighDPI/gtkrc otkomentiraj linije:
	gtk-font-name = "Sans 20"
	  font_name = "Sans 20"
gimp:
	Preferences > Interface > Theme: DarkHighDPI
******  guvcview  ******************************************************************************
guvcview: Photo/File=~/trenut, Video/File=~/trenut
******  printer  *******************************************************************************
terminal:
	pacman -S cups libcups system-config-printer hplip
	yay -S hplip-plugin
	sudo systemctl start cups.service
	hp-setup -i "printer-ip" (umesto "printer-ip" stavis ip printera, trebalo bi 192.168.1.105)
	sudo systemctl disable cups.service
	sudo systemctl enable cups.socket
system-config-printer:
	odaberem printer
	Printer Options -> Media Size = A4
******  Minecraft  *****************************************************************************
minecraft:

skini verziju za linux sa https://tlauncher.org/en/ u ~/trenut
	sve verzije imaju link oblika:
		http://repo.tlauncher.org/update/lch/TLauncher-VER.jar
thunar:
	otpakuj to sto si skinuo
	kopiraj TLauncher-VER.jar u ~/.tlauncher/ i preimenuj u TLauncher.jar
	desni klik na TLauncher.jar -> Properties -> Permissions -> Allow this file to run as a program
	kopiraj minecraft.desktop u /usr/share/applications
tlauncher:
	settings:
		resolution:	1920x1080
		version list: samo "Show modified"
		Memory allocation: 12288 MB
	Accounts/Configure Accounts:
		TLauncher Account:
			username: donaastor
			password: ***************

hamachi:

terminal:
	yay logmein-hamachi
	yay -Sc
	sudo systemctl start logmein-hamachi
	sudo systemctl stop logmein-hamachi
thunar(root):
	iskopiraj h2-engine-override.cfg u /var/lib/logmein-hamachi/
terminal:
	sudo ufw allow 25565
******  SageMath  ******************************************************************************
terminal:
	pacman -S sagemath sagemath-doc
	echo "%colors NoColor" >> ~/.sage/init.sage
******  LaTeX  *********************************************************************************
terminal:
	pacman -S --needed lyx texlive-formatsextra texlive-langcyrillic texlive-latexextra texlive-science texlive-fontsextra
	yay -S tikzit
************************************************************************************************
